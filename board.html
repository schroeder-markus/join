<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1">
        <link rel="icon" type="image/x-icon" href="img/favicon.png">
        <link rel="stylesheet" href="styles/font.css">
        <link rel="stylesheet" href="style.css">
        <link rel="stylesheet" href="styles/aside.css">
        <link rel="stylesheet" href="styles/addTask.css">
        <link rel="stylesheet" href="styles/board.css">
        <script src="mini_backend.js"></script>
        <script src="js/script.js" defer></script>
        <script src="includes.js" defer></script>
        <script src="js/add_task.js" defer></script>
        <script src="js/board_html.js" defer></script>
        <script src="js/board.js" defer></script>
        <title>Join - Board</title>
    </head>

    <body onload="activatePage(2), renderTasks(), addOverlayClickEvent('taskslide', 'taskslidediv'), initAddTask()">
        <!-- header template -->
        <div w3-include-html="includes/header.html"></div>
        <!-- header template END -->

        <!-- aside template -->
        <div w3-include-html="includes/aside.html"></div>
        <!-- aside template END -->


        <main id="board">
            <div class="main-container">
                <div>
                    <div class="inputcontainer">
                        <h1 class="mobileh1">Board</h1>
                        <div class="searchsection">
                            <div class="input">
                                <input class="searchinput" id="searchtask" onkeyup="searchTasks()"
                                    placeholder="Find Task" type="text">
                                <svg class="input-icon" width="44" height="31" viewBox="0 0 44 31" fill="none"
                                    xmlns="http://www.w3.org/2000/svg">
                                    <path d="M1 0V31" stroke="#D1D1D1" />
                                    <path
                                        d="M25 5.34277C29.968 5.34277 34 9.37477 34 14.3428C34 19.3108 29.968 23.3428 25 23.3428C20.032 23.3428 16 19.3108 16 14.3428C16 9.37477 20.032 5.34277 25 5.34277ZM25 21.3428C28.867 21.3428 32 18.2098 32 14.3428C32 10.4748 28.867 7.34277 25 7.34277C21.132 7.34277 18 10.4748 18 14.3428C18 18.2098 21.132 21.3428 25 21.3428ZM33 20.8428L35.6247 23.5348C36.0068 23.9267 36.0028 24.553 35.6158 24.94L35.5972 24.9586C35.2102 25.3456 34.5839 25.3496 34.192 24.9675L31.5 22.3428L33 20.8428Z"
                                        fill="black" />
                                </svg>
                            </div>
                            <button onclick="openSlide()" class="addtaskboard"><span>Add Task</span><svg width="15"
                                    height="15" viewBox="0 0 17 17" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M8.5 1V16" stroke="white" stroke-width="2" stroke-linecap="round" />
                                    <path d="M16 8.6416L1 8.6416" stroke="white" stroke-width="2"
                                        stroke-linecap="round" />
                                </svg>
                            </button>
                        </div>
                    </div>
                    <div class="content">
                        <div class="todo">
                            <div class="header">
                                <h2>To Do</h2>
                                <svg onclick="openSlide()" width="30" height="30" viewBox="0 0 30 30" fill="none"
                                    xmlns="http://www.w3.org/2000/svg">
                                    <path d="M15 7.5V22.5" stroke="#2A3647" stroke-width="2" stroke-linecap="round" />
                                    <path d="M22.5 15.1416L7.5 15.1416" stroke="#2A3647" stroke-width="2"
                                        stroke-linecap="round" />
                                    <rect x="1" y="1" width="28" height="28" rx="9" stroke="#2A3647" stroke-width="2" />
                                </svg>
                            </div>
                            <div id="tododiv" ondrop="moveTo('todo')" ontouchstart="allowDrop(event)"
                                ondragover="allowDrop(event), dragHighlight('tododiv')" ondragleave="updateTasks()"
                                class="draganddrop">

                            </div>
                        </div>
                        <div class="inprogress">
                            <div class="header">
                                <h2>In progress</h2>
                                <svg onclick="openSlide()" onclick="openSlide()" width="30" height="30"
                                    viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M15 7.5V22.5" stroke="#2A3647" stroke-width="2" stroke-linecap="round" />
                                    <path d="M22.5 15.1416L7.5 15.1416" stroke="#2A3647" stroke-width="2"
                                        stroke-linecap="round" />
                                    <rect x="1" y="1" width="28" height="28" rx="9" stroke="#2A3647" stroke-width="2" />
                                </svg>
                            </div>
                            <div id="inprogressdiv" class="draganddrop" ondrop="moveTo('inprogress')"
                                ondragover="allowDrop(event), dragHighlight('inprogressdiv')"
                                ondragleave="updateTasks()">

                            </div>
                        </div>
                        <div class="awaitingfeedback">
                            <div class="header">
                                <h2>Awaiting Feedback</h2>
                                <svg onclick="openSlide()" width="30" height="30" viewBox="0 0 30 30" fill="none"
                                    xmlns="http://www.w3.org/2000/svg">
                                    <path d="M15 7.5V22.5" stroke="#2A3647" stroke-width="2" stroke-linecap="round" />
                                    <path d="M22.5 15.1416L7.5 15.1416" stroke="#2A3647" stroke-width="2"
                                        stroke-linecap="round" />
                                    <rect x="1" y="1" width="28" height="28" rx="9" stroke="#2A3647" stroke-width="2" />

                                </svg>
                            </div>
                            <div id="awaitingfeedbackdiv" class="draganddrop" ondrop="moveTo('awaitingfeedback')"
                                ondragover="allowDrop(event), dragHighlight('awaitingfeedbackdiv')"
                                ondragleave="updateTasks()">

                            </div>
                        </div>
                        <div class="done">
                            <div class="header">
                                <h2>Done</h2>
                                <svg onclick="openSlide()" width="30" height="30" viewBox="0 0 30 30" fill="none"
                                    xmlns="http://www.w3.org/2000/svg">
                                    <path d="M15 7.5V22.5" stroke="#2A3647" stroke-width="2" stroke-linecap="round" />
                                    <path d="M22.5 15.1416L7.5 15.1416" stroke="#2A3647" stroke-width="2"
                                        stroke-linecap="round" />
                                    <rect x="1" y="1" width="28" height="28" rx="9" stroke="#2A3647" stroke-width="2" />
                                </svg>
                            </div>
                            <div id="donediv" class="draganddrop" ondrop="moveTo('done')"
                                ondragover="allowDrop(event), dragHighlight('donediv')" ondragleave="updateTasks()">

                            </div>
                        </div>
                    </div>
                </div>

                <div id="cardinformation" class="openinfo d-none">
                    <div id="editcard" class="cardinformation">
                        <svg onclick="closeCardInformation()" class="closebutton" width="31" height="31"
                            viewBox="0 0 31 31" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M22.9614 7.65381L7.65367 22.9616" stroke="#2A3647" stroke-width="2"
                                stroke-linecap="round" />
                            <path d="M22.8169 23.106L7.50914 7.7982" stroke="#2A3647" stroke-width="2"
                                stroke-linecap="round" />
                        </svg>

                        <svg class="editbutton" onclick="editCard()" width="57" height="57" viewBox="0 0 57 57"
                            fill="none" xmlns="http://www.w3.org/2000/svg">
                            <rect width="57" height="57" rx="10" fill="#2A3647" />
                            <path
                                d="M20.9449 35.5155L25.7643 38.4404L38.4074 17.6083C38.694 17.1362 38.5435 16.5211 38.0714 16.2346L34.9618 14.3474C34.4897 14.0608 33.8746 14.2113 33.5881 14.6834L20.9449 35.5155Z"
                                fill="white" />
                            <path d="M20.3599 36.4792L25.1792 39.4041L20.4506 41.6889L20.3599 36.4792Z" fill="white" />
                        </svg>


                        <div id="infocategory" class="infomationcategory"></div>
                        <div id="infotitle" class="informationtitle"></div>
                        <div id="infodescription" class="description"></div>
                        <div class="informationdate">
                            <span class="cardinformationspan">Due Date:</span><span id="infoduedate"></span>
                        </div>
                        <div class="subtaskinformation">
                            <span class="subtaskinformationspan">Subtasks:</span>
                            <div id="infosubtasks">


                            </div>
                        </div>
                        <div class="prioritycard">
                            <span class="cardinformationspan">Priority:</span><img id="priorotyimg" src="" alt="">
                        </div>
                        <div id="assignedto">
                            <span class="cardinformationspan"> Assigned to:</span>
                            <div class="assignedtoinformation">
                                <div class="intitialinformation">BB</div>
                                <div class="nameinformation">Boubkir Benamar</div>
                            </div>
                        </div>
                        <svg onclick="deleteTask()" id="icon-bin" class="icon-bin" xmlns="http://www.w3.org/2000/svg"
                            xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0,0,256,256" width="48px" height="48px"
                            fill-rule="nonzero">
                            <g transform="translate(42.66667,42.66667) scale(0.66667,0.66667)">
                                <g class="bin" fill="#2a3647" fill-rule="nonzero" stroke="none" stroke-width="1"
                                    stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="10"
                                    stroke-dasharray="" stroke-dashoffset="0" font-family="none" font-weight="none"
                                    font-size="none" text-anchor="none" style="mix-blend-mode: normal">
                                    <path d="M-64,320v-384h384v384z" id="bgRectangle"></path>
                                </g>
                                <g fill="#ffffff" fill-rule="nonzero" stroke="none" stroke-width="1"
                                    stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="10"
                                    stroke-dasharray="" stroke-dashoffset="0" font-family="none" font-weight="none"
                                    font-size="none" text-anchor="none" style="mix-blend-mode: normal">
                                    <g transform="scale(10.66667,10.66667)">
                                        <path
                                            d="M10,2l-1,1h-4c-0.552,0 -1,0.448 -1,1c0,0.552 0.448,1 1,1h2h10h2c0.552,0 1,-0.448 1,-1c0,-0.552 -0.448,-1 -1,-1h-4l-1,-1zM5,7v13c0,1.105 0.895,2 2,2h10c1.105,0 2,-0.895 2,-2v-13z">
                                        </path>
                                    </g>
                                </g>
                            </g>
                        </svg>
                    </div>
                </div>

                <div class="addtaskslide closeslide" id="taskslide">
                    <div id="taskslidediv" class="slidediv">
                        <img class="closeBtnTask" src="img/icons-cancel.svg" onclick="clearForm(),closeSlide()">
                        <h1>Add Task</h1>
                        <div id="taskAdded" class="messageContainer"><img src="img/message-task-added.svg"
                                alt="successMessage">
                        </div>
                        <div id="formWrapper">
                            <form onsubmit="return false" class="addTaskForm">
                                <section class="leftArea">
                                    <!-- Title -->
                                    <div>
                                        <label for="title">Title</label>
                                        <input onsubmit="deleteAlert('newTitleAlert')"
                                            oninput="deleteAlert('newTitleAlert')" id="newTitle" type="text"
                                            placeholder="Enter a title">
                                        <span id="newTitleAlert" class="requiredAlert"></span>
                                    </div>
                                    <!-- Description -->
                                    <div>
                                        <label for="description">Description</label>
                                        <textarea onsubmit="deleteAlert('newDescriptionAlert')"
                                            oninput="deleteAlert('newDescriptionAlert')" id="newDescription"
                                            class="descriptionTextArea" type="text"
                                            placeholder="Enter a description"></textarea>
                                        <span id="newDescriptionAlert" class="requiredAlert"></span>
                                    </div>
                                    <!-- Category -->
                                    <div readonly>
                                        <label for="categoryDropdown">Category</label>
                                        <div onclick="toggleCategoryDropdown()" id="categoryDropdown" class="dropdown">
                                            <span id="categoryInput" class="dropdownValue">Select Task Category</span>
                                            <img src="img/icon-dropdown.svg" alt="dropdownIcon">
                                            <div id="categories" class="scroll"></div>
                                        </div>
                                        <!-- Input for new category (display: none on default) -->
                                        <div id="newCategoryInput" class="newEntryInput">
                                            <div><input id="catNameInput" type="text" placeholder="New category name"
                                                    onfocus="this.value=''">
                                                <div class="confirmOrCancel">
                                                    <div onclick="cancelNewCategory()"><img src="img/icon-x.svg"
                                                            alt="cancelIcon" required>
                                                    </div>
                                                    <div onclick="confirmNewCategory()"><img
                                                            src="img/icon-check-dark.svg" alt="checkIcon">
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="colorSelWrapper">
                                                <span id="colorSelection"></span>
                                                <span id="colorSelAlert" class="requiredAlert">Select a Color</span>
                                            </div>
                                        </div>
                                        <!--  -->
                                        <span id="categoryAlert" class="requiredAlert"></span>
                                    </div>
                                    <!-- Assign to -->
                                    <div readonly>
                                        <label for="assignToDropdown">Assign to</label>
                                        <div id="assignToDropdown" class="dropdown">
                                            <span onclick="toggleAssignDropdown()" id="assignToInput"
                                                class="dropdownValue">Select
                                                contacts to assign</span>
                                            <img onclick="toggleAssignDropdown()" src="img/icon-dropdown.svg"
                                                alt="dropdownIcon">
                                            <div id="contactSelection" class="scroll">
                                                <div class="user-you"></div>
                                                <div><span onclick="toggleSelection(1)">
                                                        <div id="contact(1)">
                                                            Markus Schröder
                                                        </div>
                                                        <div class="assignCheckbox">
                                                            <div id="contactChecked(1)" class="assignChecked"></div>
                                                        </div>
                                                    </span></div>
                                                <div><span onclick="toggleSelection(2)">
                                                        <div id="contact(2)">
                                                            Boubkir Benamar
                                                        </div>
                                                        <div class="assignCheckbox">
                                                            <div id="contactChecked(2)" class="assignChecked"></div>
                                                        </div>
                                                    </span></div>
                                                <div><span onclick="toggleSelection(3)">
                                                        <div id="contact(3)">
                                                            Ilja Gaus-Gerbeth
                                                        </div>
                                                        <div class="assignCheckbox">
                                                            <div id="contactChecked(3)" class="assignChecked"></div>
                                                        </div>
                                                    </span></div>
                                                <div><span onclick="toggleSelection(4)">
                                                        <div id="contact(4)">
                                                            Ingo Hermsen
                                                        </div>
                                                        <div class="assignCheckbox">
                                                            <div id="contactChecked(4)" class="assignChecked"></div>
                                                        </div>
                                                    </span></div>
                                                <div><span
                                                        onclick="toggleView_DropdownAndNewEntry('assignToDropdown','invitePersonInput', 'mailInput')">Invite
                                                        new Contact<img src="img/icon-contacts-dark.svg"
                                                            alt="contactIconDark"></span>
                                                </div>
                                            </div>
                                        </div>

                                        <!-- Input for new Contact (display: none on default) -->
                                        <div id="invitePersonInput" class="newEntryInput">
                                            <div><input id="mailInput" type="email" placeholder="Contact email"
                                                    onfocus="this.value=''">
                                                <div class="confirmOrCancel">
                                                    <div onclick="cancelInviteContact()"><img src="img/icon-x.svg"
                                                            alt="cancelIcon" required>
                                                    </div>
                                                    <div onclick="confirmMailAdress()"><img
                                                            src="img/icon-check-dark.svg" alt="checkIcon">
                                                    </div>
                                                </div>
                                            </div>
                                            <span id="mailNotFoundAlert" class="requiredAlert"></span>
                                        </div>
                                        <!--  -->
                                        <span id="assignAlert" class="requiredAlert"></span>
                                        <span id="nameCircles"></span>

                                    </div>
                                </section>
                                <section class="rightArea">
                                    <!-- Due Date -->
                                    <div>
                                        <label for="dateInput">Due Date</label>
                                        <div onsubmit="deleteAlert('dateAlert')" class="inputContainer"><input
                                                id="dueDate" class="input dateInput" type="date"
                                                placeholder="Enter date">
                                        </div>
                                        <span id="dateAlert" class="requiredAlert"></span>
                                    </div>
                                    <!-- Priority -->
                                    <div class="input">
                                        <label>Prio</label>
                                        <div class="prioButtons">
                                            <button onclick="setPrio('urgent')" type="button"
                                                id="prioButton-urgent">Urgent
                                                <div>
                                                    <img src="img/prio-urgent.svg" alt="prioUrgentArrow">
                                                </div>
                                            </button>
                                            <button onclick="setPrio('medium')" type="button"
                                                id="prioButton-medium">Medium
                                                <div>
                                                    <img src="img/prio-medium.svg" alt="prioMediumArrow">
                                                </div>
                                            </button>
                                            <button onclick="setPrio('low')" type="button" id="prioButton-low">Low
                                                <div>
                                                    <img src="img/prio-low.svg" alt="prioLowArrow">
                                                </div>
                                            </button>
                                        </div>
                                        <span id="priorityAlert" class="requiredAlert"></span>
                                    </div>
                                    <!-- Subtasks -->
                                    <div class="subtaskInput">
                                        <label for="subtaskInput">Subtasks</label>
                                        <div class="inputContainer"><input onsubmit="deleteAlert('subtaskAlert')"
                                                id="subtask" class="input" placeholder="Add new Subtask">
                                            <img onclick="addSubtask()" src="img/icon-add-plus-dark.svg" alt="plusIcon">
                                        </div>
                                        <span id="subtaskAlert" class="requiredAlert"></span>
                                        <div id="subtasks"></div>
                                        <!-- submit Or Clear Buttons -->

                                        <div class="submitAndClearButtons">
                                            <button id="clearButton" onclick="clearForm(),closeSlide()">Clear<img
                                                    src="img/icons-cancel.svg"></button>
                                            <button id="createButton" onclick="createTask(),updateTasks()">Create
                                                Task<img src="img/icons-check.svg"></button>
                                        </div>
                                </section>

                            </form>
                        </div>
        </main>
    </body>

</html>